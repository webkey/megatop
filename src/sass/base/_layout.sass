@import ../utils/variables
@import ../utils/mixins
@import ../../libs/include-media/dist/include-media

html
	&.css-scroll-fixed
		+scroll-blocked() // блокировка скролла

	&.shutter-after-open--filters
		+media('<tab-lg')
			+scroll-blocked() // блокировка скролла

/* === LAYOUT ===
.max-wrap
	max-width: $page-layout-width + nth($page-layout-space, 2)*2

.layout
	@if nth($page-layout-space, 2) != 0
		+padding-horizontal(nth($page-layout-space, 2))

	+push-auto

// выравнивание текстовых элементов на странице статьи (контент обернут в .layout-article)
// и их максимальная ширина
.layout-article
	padding: round(nth($text-layout-space, 1)) #{nth($text-layout-space, 2)} round(nth($text-layout-space, 1)*1.5)

	+media('<desk-md')
		padding: round(nth($text-layout-space--md, 1)*1.5) #{nth($text-layout-space--md, 2)} round(nth($text-layout-space--md, 1)*2)

	+media('<tab-lg')
		padding: round(nth($text-layout-space--sm, 1)*1.5) #{nth($text-layout-space--sm, 2)} round(nth($text-layout-space--sm, 1)*2)

	+media('<mob-lg')
		padding: round(nth($text-layout-space--mob, 1)*1.5) #{nth($text-layout-space--mob, 2)} round(nth($text-layout-space--mob, 1)*2)

	& > p, & > ul, & > ol, & > h2, & > h3, & > h4, & > h5, & > h6, & > hr, & > blockquote, & > .layout-text, .imgc figcaption, & > .entry-text
		max-width: $text-layout-width
		+padding-horizontal(0)
		+push-auto

	.layout-flood, & > h1
		max-width: $flood-layout-width
		+padding-horizontal(0)
		+push-auto

	// элеметы без отступов по бокам
	// минусовые маржины по горизонтале имеют значение только внутри .layout-article
	.layout-full-width, .layout-wide

		+margin-horizontal(-#{nth($text-layout-space, 2)})

		+media('<desk-md')
			+margin-horizontal(-#{nth($text-layout-space--md, 2)})

		+media('<tab-lg')
			+margin-horizontal(-#{nth($text-layout-space--sm, 2)})

		+media('<mob-lg')
			+margin-horizontal(-#{nth($text-layout-space--mob, 2)})

// максимальная ширина текстовых элементов на внутренней (текстовой) странице
.max-wrap-text
	max-width: #{$text-layout-width + nth($text-layout-space, 2)*2}

	+media('<desk-md')
		max-width: #{$text-layout-width + nth($text-layout-space--md, 2)*2}

	+media('<tab-lg')
		max-width: #{$text-layout-width + nth($text-layout-space--sm, 2)*2}

	+media('<mob-lg')
		max-width: #{$text-layout-width + nth($text-layout-space--mob, 2)*2}

// выравнивание текстовых элементов на внутренней (текстовой) странице
// и их максимальная ширина
.layout-text
	max-width: #{$text-layout-width + nth($text-layout-space, 2)*2}
	+padding-horizontal(nth($text-layout-space, 2))
	+push-auto

	+media('<desk-md')
		max-width: #{$text-layout-width + nth($text-layout-space--md, 2)*2}
		+padding-horizontal(nth($text-layout-space--md, 2))

	+media('<tab-lg')
		max-width: #{$text-layout-width + nth($text-layout-space--sm, 2)*2}
		+padding-horizontal(nth($text-layout-space--sm, 2))

	+media('<mob-lg')
		max-width: #{$text-layout-width + nth($text-layout-space--mob, 2)*2}
		+padding-horizontal(nth($text-layout-space--mob, 2))

// максимальная ширина альтернативных элементов на внутренней (текстовой) странице
.max-wrap-flood
	max-width: #{$flood-layout-width + nth($text-layout-space, 2)*2}
	margin: 0 auto

	+media('<desk-md')
		max-width: #{$flood-layout-width + nth($text-layout-space--md, 2)*2}

	+media('<tab-lg')
		max-width: #{$flood-layout-width + nth($text-layout-space--sm, 2)*2}

	+media('<mob-lg')
		max-width: #{$flood-layout-width + nth($text-layout-space--mob, 2)*2}

// выравнивание альтернативных элементов на внутренней (текстовой) странице
// и их максимальная ширина
.layout-flood
	max-width: #{$flood-layout-width + nth($text-layout-space, 2)*2}
	+padding-horizontal(nth($text-layout-space, 2))
	+push-auto

	+media('<desk-md')
		max-width: #{$flood-layout-width + nth($text-layout-space--md, 2)*2}
		+padding-horizontal(nth($text-layout-space--md, 2))

	+media('<tab-lg')
		max-width: #{$flood-layout-width + nth($text-layout-space--sm, 2)*2}
		+padding-horizontal(nth($text-layout-space--sm, 2))

	+media('<mob-lg')
		max-width: #{$flood-layout-width + nth($text-layout-space--mob, 2)*2}
		+padding-horizontal(nth($text-layout-space--mob, 2))

	p, ul, ol, h1, h2, h3, h4, h5, h6, hr
		max-width: none

// элеметы с отступами по бокам
.layout-wide
	+padding-horizontal(nth($text-layout-space, 2))

	+media('<desk-md')
		+padding-horizontal(nth($text-layout-space--md, 2))

	+media('<tab-lg')
		+padding-horizontal(nth($text-layout-space--sm, 2))

	+media('<mob-lg')
		+padding-horizontal(nth($text-layout-space--mob, 2))

	p, ul, ol, h1, h2, h3, h4, h5, h6, hr
		max-width: none

// элеметы без отступов по бокам
.layout-full-width

	p, ul, ol, h1, h2, h3, h4, h5, h6, hr
		max-width: none

// лэяут страницы
.wrapper
	display: block
	display: flex
	flex-direction: column
	justify-content: space-between
	//overflow: hidden // c overflow: hidden не работает position: sticky на фиксящихся элементах
	position: relative
	margin: 0 auto
	min-height: 100vh

@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)
	///* Костыль */
	///* IE10 IE11 не тянет .wrapper с display: flax */
	/* IE10 IE11 */
	.wrapper
		display: block

/* === LAYOUT end ===

/* === CONTENT ===
.main
	flex: 1
	position: relative
	clear: both
	//z-index: 4
	padding-top: $header-height

	+media('<desk-md')
		padding-top: $header-height--sm

	.no-js &
		padding-top: 0

.content
	//background-color: #fbfbfb

/* === CONTENT end ===

/* === HEADER ===
/* HEADER
// header layout
.header
	position: fixed
	background-color: #1a1a1a
	color: white
	width: 100%
	min-width: 320px
	height: $header-height
	z-index: 10
	// ===================

	//+media('<tab-lg')
		opacity: 0
		overflow: hidden
		//visibility: hidden
		transform: translate(0, -100%)
		transform: translate3d(0, -100%, 0)
		$props: opacity, transform
		will-change: $props
		transition:
			property: $props
			duration: $animation-speed

		.header-show &, .shutter-after-open &
			// ===================
			opacity: 1
			overflow: visible
			//visibility: visible
			transform: translate(0, 0)
			transform: translate3d(0, 0, 0)

	+media('<desk-md')
		height: $header-height--sm

	.no-js &
		position: relative

	&::before
		content: ""
		display: block
		position: absolute
		left: -20px
		top: 0
		height: 100%
		width: calc(100% + 40px)
		box-shadow: 0 0 10px rgba(0, 0, 0, 0.25)
		pointer-events: none
		opacity: 0
		will-change: opacity
		transition:
			property: opacity
			duration: $animation-speed

		.page-is-scrolled &
			opacity: 1

	.btn-menu
		+size($header-height)
		position: absolute
		left: 0
		top: 0
		z-index: 5

		+media('<desk-md')
			+size($header-height--sm)

.header > .layout
	height: 100%

.header__holder
	height: 100%
	text-align: center
	+clear-spacing
	+clear

.header__col
	+display-inline-block-top
	position: relative
	text-align: left
	height: 100%
	white-space: nowrap
	+clear-spacing

	&:first-child
		display: block
		float: left
		padding-left: $header-height

		+media('<desk-md')
			padding-left: $header-height--sm

	&:last-child
		display: block
		float: right

	&::before
		+pseudo-content()
		+display-inline-block-middle
		height: 100%

.header__cell
	+display-inline-block-middle
	+font($font-size, $line-height)
	white-space: normal
	letter-spacing: normal

// header layout end

/* menu
.header__col--menu
	.header__cell, .menu-list, .menu-list > li, .menu-list > li > a
		height: 100%

.menu-list
	$ml-space: 30px
	$ml-space--md: 20px
	$ml-space--sm: 10px
	// ==================
	list-style: none
	+clear-spacing

	+media('<desk-lg')
		padding-left: 0

	+media('<desk-sm')
		display: none

	li
		+display-inline-block-middle
		+font-bold
		+font(1.4rem, round-float(18/14, 2))
		letter-spacing: 0.1em
		text-transform: uppercase

		+media('<desk-md')
			font-size: 1.3rem
			letter-spacing: 0.05em

	a
		display: table
		width: 100%
		text-decoration: none
		color: white

		// убрать подсветку при клике на тачскринах
		.touchevents &
			user-select: none
			-webkit-tap-highlight-color: transparent

		span
			display: table-cell
			vertical-align: middle
			position: relative
			+padding-horizontal(round($ml-space/2))

			+media('<desk-lg')
				+padding-horizontal(round($ml-space--md/2))

			+media('<desk-md')
				+padding-horizontal(round($ml-space--sm/2))

			&::after
				content: ""
				display: block
				position: absolute
				bottom: 0
				left: 0
				width: 100%
				border-top: 3px solid white
				will-change: opacity
				opacity: 0
				transition:
					property: opacity
					duration: $animation-speed

	// text-mark
	.text-mark
		a
			color: $base-color

			span::after
				border-color: $base-color

	// hover
	a
		&:hover
			span::after
				opacity: 1

	// in shutter, for mobile
	.shutter &
		display: none
		border-bottom: 1px solid $border-color
		padding: nth($shutter-space, 1) 0
		background-color: $header-bg

		+media('<desk-sm')
			display: block

		li
			display: block
			+font(1.4rem, round-float(20/16, 2))

		a
			padding: 0 nth($shutter-space, 2)
			color: inherit
			color: white

			span
				padding: 8px 0

				&::after
					content: none

		// text-mark
		.text-mark
			a
				color: $base-color

				span::after
					border-color: $base-color

		// hover
		a
			&:hover
				color: $base-color

/* menu end

/* logo
.logo
	display: block
	position: relative
	width: nth($logo-size, 1)

	+media('<desk-lg')
		width: 200px

	+media('<desk-md')
		width: 160px

	+media('<mob-lg')
		width: 120px

	+media('<mob-sm')
		width: 100px

	&::before
		content: ""
		display: block
		+ratio(nth($logo-size, 1), nth($logo-size, 2))
		background-repeat: no-repeat
		background-position: left
		background-color: $header-bg
		background-image: url(../../img/logo.png)
		background-size: contain

		+media('<mob-lg')
			background-image: url(../../img/logo-mob.png)

	a, & > span
		position: absolute
		display: block
		left: 0
		top: 0
		+size(100%)
		z-index: 5

		& > em
			+hide-text

/* logo end

.header__col--options
	.header__cell
		padding-left: nth($search-form--size, 1)
		position: relative

		+media('<tab-lg')
			padding-left: 0

/* search-form
.search-form
	position: relative
	margin: 0
	width: nth($search-form--size, 1)
	border: solid #666
	border-width: 0 1px

	.header &
		position: absolute
		top: 50%
		right: 100%
		margin: -#{round($header-height/2)} -#{nth($search-form--size, 1)} 0 #{nth($search-form--size, 1)}

		+media('<desk-md')
			margin: -#{round($header-height--sm/2)} -#{nth($search-form--size, 1)} 0 #{nth($search-form--size, 1)}

		+media('<tab-lg')
			display: none

	.shutter--nav &
		display: none
		position: absolute
		left: 0
		top: -1px // если есть бордер на мобильном меню сверху
		border-width: 1px 0
		width: 100%
		z-index: 100

		+media('<tab-lg')
			display: block

	.search-form__field
		margin: 0

	.search-form__input
		padding: 0 10px 0 nth($search-form--btn-size, 1)
		height: $header-height
		width: 100%
		border: none
		background: $header-bg
		+font-bold
		+font(1.6rem, $header-height)
		letter-spacing: normal

		+placeholder
			color: white

		+placeholder-focus
			color: $text-color
			opacity: 1

		+media('<desk-md')
			height: $header-height--sm
			line-height: $header-height--sm

		&, &:hover, &:focus, &.error, &.input--has-value
			box-shadow: none

		&:focus, &.input--has-value
			background-color: white
			color: $text-color

.search-form__btn
	position: absolute
	left: 0
	top: 50%
	+size(nth($search-form--btn-size, 1), $header-height)
	margin-top: -#{round($header-height*0.5)}
	+font-regular
	text-align: center
	z-index: 5
	color: white
	pointer-events: none

	+media('<desk-md')
		height: $header-height--sm
		margin-top: -#{round($header-height--sm*0.5)}

	.input--has-value &, .search-form__input:focus ~ &
		color: $text-color

	.input--has-value &
		pointer-events: auto

	.no-touchevents &:hover
		color: $base-color

	input
		+cover-abs()
		padding: 0
		border: 0
		opacity: 0
		z-index: 99

	svg
		display: inline-block
		position: absolute
		+position(50%)
		+size(nth($search-form--btn-icon-size, 1))
		margin: -#{round(nth($search-form--btn-icon-size, 1)*0.5)} 0 0 -#{round(nth($search-form--btn-icon-size, 1)*0.5)}

	path
		fill: currentColor
		transition: inherit

	span
		+hide-text

/* search-form end
/* HEADER end
/* === HEADER end ===

/* === FOOTER ===
.footer
	//margin: 0 auto
	position: relative
	clear: both
	//z-index: 3
	+font(16px, round-float(26/16, 3))

.footer__holder
	overflow: hidden
	cursor: default

/* footer common
.footer-common
	position: relative
	background: #eceff1
	padding: round(nth($text-layout-space, 1)*1.5) nth($text-layout-space, 2) round(nth($text-layout-space, 1))

	+media('<desk-md')
		padding: round(nth($text-layout-space--md, 1)*1.5) nth($text-layout-space--md, 2) nth($text-layout-space--md, 1)

	+media('<tab-lg')
		padding: round(nth($text-layout-space--sm, 1)*0.8) nth($text-layout-space--sm, 2)

	+media('<mob-lg')
		padding: round(nth($text-layout-space--mob, 1)*0.8) nth($text-layout-space--mob, 2)

.footer-common__group
	margin: 0 -#{round(nth($text-layout-space, 2)/2)} round(nth($text-layout-space, 1))
	+clear

	+media('<desk-md')
		margin: 0 -#{round(nth($text-layout-space--md, 2)/2)} round(nth($text-layout-space--md, 1)*1.5)

	+media('<tab-lg')
		margin: 0 -#{round(nth($text-layout-space--md, 2)/2)} round(nth($text-layout-space--sm, 1)*1.5)

	+media('<mob-lg')
		margin: 0 -#{round(nth($text-layout-space--md, 2)/2)} round(nth($text-layout-space--mob, 1)*1.5)

	&:last-child
		margin-bottom: 0

.footer-common__box
	+padding-horizontal(round(nth($text-layout-space, 2)/2))
	width: 50%
	max-width: 719px

	+media('<desk-md')
		+padding-horizontal(round(nth($text-layout-space--md, 2)/2))

	+media('<tab-lg')
		max-width: none
		margin-top: nth($text-layout-space--sm, 1)

	&:first-child
		float: left

		+media('<desk-sm')
			width: 65%

		+media('<tab-lg')
			float: none
			width: auto
			margin-top: 0

	&:last-child
		float: right

		+media('<desk-sm')
			width: 35%

		+media('<tab-lg')
			float: none
			width: auto

.footer-nav
	+grid-parent(nth($text-layout-space, 2))
	+clear-spacing

	+media('<desk-md')
		+grid-parent(nth($text-layout-space--md, 2))

	+media('<tab-lg')
		+grid-parent(nth($text-layout-space--sm, 2))

.footer-nav__box
	+grid-item(4, nth($text-layout-space, 2))
	+font(1.6rem, 26px)
	letter-spacing: normal

	+media('<desk-md')
		+grid-item-responsive(4, nth($text-layout-space--md, 2))

	+media('<tab-lg')
		+grid-item-responsive(4, nth($text-layout-space--sm, 2))

	+media('<mob-lg')
		+grid-item-responsive(2, nth($text-layout-space--sm, 2))

	& > *:last-child
		margin-bottom: 0

	.footer-common__box--navigator &
		width: 100%

.footer-nav__title, .footer-nav__list
	position: relative
	display: block
	+font-alt-bold
	font-size: 1.8rem
	margin-bottom: 0.8em

	+media('<mob-lg')
		margin-bottom: 0.5em

.footer-nav__title
	.footer-common__box--navigator &
		+media('<tab-lg')
			text-align: center

		+media('<mob-lg')
			text-align: left

	a
		color: black
		text-decoration: none

		&:hover
			color: $base-color

.footer-nav__links
	list-style: none
	margin: 0 0 0.8em

.footer-nav__list
	list-style: none
	+font-alt-bold
	font-size: 18px
	color: black

.footer-nav__links, .footer-nav__list

	li
		margin-bottom: 0.8em

		+media('<mob-lg')
			margin-bottom: 0.5em

		&:last-child
			margin-bottom: 0

	a
		padding-top: 0.5em
		color: #666
		text-decoration: none

		&:hover
			color: $base-color

.footer-nav__list
	a
		color: inherit

/* footer common end

/* navigator
.navigator
	display: block
	text-decoration: none
	color: inherit
	position: relative

	&::before
		content: ""
		display: block
		+ratio(679, 364)

	+media('<tab-lg')
		margin: 0 auto
		max-width: 600px

	img
		position: absolute
		left: 0
		top: 0
		width: 100%
		height: 100%
		max-width: none
		+object-fit(cover)

.btn-navigator
	$space: 20px
	//==============
	position: absolute
	left: $space
	top: $space
	z-index: 5
	padding: 13px
	width: 280px
	max-width: calc(100% - #{round($space*2)})
	+font-bold
	line-height: 1
	color: black
	background: #f3f3f3
	border: 2px solid #ccc

	& > span
		+font(1.4rem, round-float(20/14, 2))
		text-transform: uppercase
		letter-spacing: 0.1em

	// hover
	.no-touchevents &:hover
		color: $base-color
		border-color: $base-color

/* navigator end

/* footer bottom
.footer-bottom
	padding: 50px nth($text-layout-space, 2) 40px
	background-color: #fff

	+media('<desk-md')
		padding: round(nth($text-layout-space--md, 1)*0.8) nth($text-layout-space--md, 2)

	+media('<tab-lg')
		padding: round(nth($text-layout-space--sm, 1)*0.8) nth($text-layout-space--sm, 2)

	+media('<mob-lg')
		padding: round(nth($text-layout-space--mob, 1)*0.8) nth($text-layout-space--mob, 2)

.footer-bottom__holder
	position: relative
	text-align: justify
	overflow: hidden
	cursor: default

	+clear-spacing

	&::after
		content: "1"
		display: inline-block
		margin-left: 100%
		height: 1px
		overflow: hidden

		+media('<tab-lg')
			content: none

.footer-bottom__col
	+display-inline-block-top
	+padding-horizontal(round(nth($text-layout-space, 2)/2))
	+font(16px, round-float(24/16, 3))
	letter-spacing: normal
	width: 33%
	text-align: left

	+media('<desk-md')
		+padding-horizontal(round(nth($text-layout-space--md, 2)/2))

	+media('<tab-lg')
		display: block
		width: auto
		max-width: none
		padding: 0
		text-align: center
		margin-top: nth($text-layout-space--sm, 1)

	&:first-child
		padding-left: 0

		+media('<tab-lg')
			margin-top: 0

	&:last-child
		padding-right: 0
		text-align: right

		+media('<tab-lg')
			text-align: center

		.footer-bottom__col__l
			display: inline-block
			vertical-align: top
			max-width: 380px
			text-align: left

			+media('<tab-lg')
				text-align: center
				max-width: none

	a
		color: $text-color
		text-decoration: none

		.no-touchevents &:hover
			text-decoration: underline

.address
	margin-bottom: nth($text-layout-space, 1)

	+media('<desk-md')
		margin-bottom: nth($text-layout-space--md, 1)

	+media('<tab-lg')
		margin-bottom: nth($text-layout-space--sm, 1)

	&:last-child
		margin-bottom: 0

	.dl
		.dt
			display: inline

		.dd
			display: inline

	a
		text-decoration: underline

		.no-touchevents &:hover
			text-decoration: none

.footer-logo
	display: block
	margin: 0 auto

	+media('<tab-lg')
		max-width: 320px

/* footer bottom end

/* developer
.developer
	display: inline-block

	a
		text-decoration: none

		.no-touchevents &:hover
			text-decoration: none

.developer__logo
	+display-inline-block-top
	position: relative
	top: 5px
	padding-right: 3px
	+size(154px, 20px)
	text-align: left
	text-indent: -9999px

	&::before, &::after
		+pseudo()
		+position(0, 0)
		+size(149px, 16px)

	&::before
		+pseudo()
		+position(4px, 4px)
		background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTMyIDc5LjE1OTI4NCwgMjAxNi8wNC8xOS0xMzoxMzo0MCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUuNSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTA2ODc1N0UwOEJDMTFFNzlCNzhBOUI2REQxMjc4QzgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTA2ODc1N0YwOEJDMTFFNzlCNzhBOUI2REQxMjc4QzgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MDY4NzU3QzA4QkMxMUU3OUI3OEE5QjZERDEyNzhDOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MDY4NzU3RDA4QkMxMUU3OUI3OEE5QjZERDEyNzhDOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnDruBQAAAAkSURBVHjaYmRgYPjPACL+/2cE0YwYAkAGA5jByPgfqwBAgAEAP4gP/bFMMZQAAAAASUVORK5CYII=')
		background-size: 2px

	//.no-touchevents a:hover
		transform: translate(0, 1px)
		filter: blur(2px)
		opacity: 0.6

	&::after
		+pseudo()
		filter: invert(1)
		background: #666 url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAAgBAMAAABa5liJAAAAMFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABaPxwLAAAAD3RSTlMAd7tEIt0R7pkzzIhmqlV9QenDAAAD2klEQVRYw+2WPYsTURSGj5oEs0lMBkUUlMSUWkxwxNKsnV2ihWCVbGXpFwhWs6Io2GT0D2xQsM2KqGUEEUvFwjbxF7irO2ZMsh7PuRvP3Xuv2mhhkRd258zuvc/7bOaDhXnmmedvUi79S1rK2wcqp99XnyzSwVOhib4fBJWl98ciOuS9GsCuQzR5HNLY4akdW1ovDc6OvUCLPS7wPJ5lEKBU6FJJDiezI4Wa6qhCAny4AKwTIiZtgJ3YpLrPAICcNYAi7+ggAHyET7Udw22c4jrQYiQ1pJwFGTRQKnSpJI0xcAbxE+8e4R5Uq+HVajUCwCOHWyM6Qnn05BlWWGs60/K81lmPu7ELELJW+KF+wj8vHEPr5oEeLsuggVKhSyUrE+SzPbx+Fr8CHCwR9h1AFh9DpjdlrVhp6TXFeAPyMWudGfXvJovCMbRqkOp9kUGAUqGBOv3zuEqH3QRwtaB3GaAworqLMWklOLS0kgkUJgjshWQlHEsLGpsyaKCucLVaq4MmUOWvtfw1IiXqlolg57pfMbXq32NoXBMt4ThaC2MZNFAqXK0s1srf1KrSLz8tUn77HZhZIq1PXyyttTAqP+e646P+iyQSjq21M5ZBA6XC1cqNoDHhpzfcXHS18ryv/JVOMkor/dnW6iy3IqrL0C1/ctAUjq1FG2UQoFS4WukEFmIe3uDm0NK6daozbgMM1tTZO9LKY2RqNVdujIHrXsHb2p6hcGyt+lQGDZQKV2vlO+2NaEh1MH5palHu8OkWpUJamXDZ1Kqkx+ukJW954ZhaS2FXBg2UClerfxlSuKp4L9AUx3O9RJ3qTwvKG4ZWubIDN7ZpCcfQengU40gGDZQKV6v1jr6aoPIau+a9lVfCnS1KibUuJpZWiuj6aRGO9ZYf7QcZNFAqHK0sPg2CwTdQyfhTUwvKX7j7mzyJ9IQsmVrgv7S1mGNo7Q0iABk0UCocrRxyJrOzxrqldZEdPk1VQcRaKfQsLQBDSzhFhhZm7wWODAKUCkcrjZyxvAItrRyTLvHGdAysBZ2zrpavtTRngdctbLpaApQKV2uFxXO4CCpv7YuYQhoLOCSB6ZZWI96uNXC0hLObofWpqyVAqXC1+vxmy9JvC68A7ofXLS3obABtvNJewi5rcRtrBUHvUVD7udJfFp5wSOIR7ArPu1oClApHix9EStiFIlJGka3VSPiP5+vcZi1mb/9/y1+1iZrTx888uFoClAobkuWfK+GdIWK8H2ytAl+KrK8ebKUFvqFVsomas6eHeBt+pSVAqRCImyBow2+SCSL4c1wO76r9CTjPPPP8x/kBIrOdsjg4YcgAAAAASUVORK5CYII=') no-repeat center center
		background-size: auto 16px

		.no-touchevents a:hover &
			filter: invert(0)
			background-color: #00ef85
			//transform: translate(0, -1px)

/* developer end
/* === FOOTER end ===

/* === NAVIGATION ===
/* nav list
// общие стили для главного списка навигации
.nav__list
	position: relative

	+media('<tab-lg')
		width: auto

// общие стили для подменю навигации
.nav__drop
	position: relative
	//background-color: $nav-bg-color
	display: none

	.no-js &
		display: block

// общие стили для пунктов навигации
.nav__list
	padding: nth($shutter-space, 1) 0

	li
		position: relative
		overflow: hidden

	.nav__tab
		position: relative

	a
		display: block
		position: relative
		padding: 0 nth($shutter-space, 2)
		+font-light
		color: #999
		text-decoration: none
		transition-property: color, background-color
		transition-duration: $animation-speed
		+clear-spacing

		// убрать подсветку при клике на тачскринах
		.touchevents &
			user-select: none
			-webkit-tap-highlight-color: transparent

		&::before
			+pseudo-inline-block-relative()
			vertical-align: middle
			min-height: 36px

		span
			+display-inline-block-middle
			max-width: calc(100% - 5px)
			+font(1.6rem, round-float(20/16, 2))
			letter-spacing: normal
			padding: 8px 0

		.no-touchevents &:hover
			color: $base-color

// стили для пунктов навигации, у которых ЕСТЬ ПОДМЕНЮ
.nav__list li.has-drop > .nav__tab > a
	padding-right: (round($nav-arrow-size+10))

// стили для пункта навигации ТЕКУЩЕЙ страницы
.nav__list li.current > .nav__tab

	&, .no-touchevents &

		a, a:hover
			color: $base-color

// стили для пункта навигации С ОТКРЫТЫМ ПОДМЕНЮ
.nav__list li
	&.is-open
		& > .nav__tab a
			&::before
				opacity: 1
				transform: translate(0, 0)

//& > .nav__drop
	display: block

// нужно добавлять на nav__drop style="display: block"

// особые стили для пунктов навигации ПЕРВОГО урованя
.nav__list > li

	& > .nav__tab a
		min-height: 0
		+font-alt-bold
		text-transform: uppercase
		color: $text-color

		span
			letter-spacing: 0.1em
			+font(1.6rem, round-float(20/16, 2))

// СТРЕЛКИ навигации
.nav__angle
	position: absolute
	right: 0
	top: 0
	width: $nav-arrow-size
	height: 100%
	//border: solid #666
	//border-width: 0 0 0 1px
	transition-property: transform, color, background-color
	transition-duration: $animation-speed
	z-index: 2
	cursor: pointer
	display: none

	// убрать подсветку при клике на тачскринах
	.touchevents &
		user-select: none
		-webkit-tap-highlight-color: transparent

	li.has-drop > .nav__tab > &
		display: block

	i
		position: absolute
		+position(50%, 50%)
		+size(16px)
		margin: -8px 0 0 -8px
		pointer-events: none
		transition-property: transform
		transition-duration: $animation-speed
		+font(0, 0)

		&::before, &::after
			+pseudo()
			+position(50%, -10px)
			height: 2px
			width: 16px
			backface-visibility: hidden
			background-color: $nav-text-color
			transition-property: background-color, transform
			transition-duration: $animation-speed

		&::after
			transform: rotate(0.25turn)

// стили стрелок навигации для разных состояний
.nav__angle

	// активное (подменю открыто)
	li.is-open > .nav__tab & i
		//transform: rotate(0)

		&::before, &::after
			transform: rotate(0)

	// ховер
	.no-touchevents li > .nav__tab &:hover i
		&::before, &::after
			background-color: $base-color

// особые стили для пунктов ПОДМЕНЮ
.nav__drop

	// особые стили для пунктов навигации ВТОРОГО урованя
	//ul, a, .nav__angle
		background-color: $nav-bg-color-s

	a
		padding-left: round(nth($shutter-space, 2) + nth($shutter-space, 2)/2)
		color: $text-color
		text-transform: uppercase

		span
			letter-spacing: 0.05em
			+font(1.6rem, round-float(20/16, 2))

	.nav__drop
		// особые стили для пунктов навигации ТРЕТЬЕГО урованя
		//ul, a, .nav__angle
			background-color: $nav-bg-color-ss

		a
			color: #999
			text-transform: none

			span
				+font(1.6rem, round-float(20/16, 2))

		.nav__drop
			// особые стили для пунктов навигации ТРЕТЬЕГО урованя
			//ul, a, .nav__angle
				background-color: $nav-bg-color-sss

			a
				padding-left: round(nth($shutter-space, 2)*2)
				color: #999
				text-transform: none

				span
					+font(1.4rem, round-float(18/14, 2))

/* nav list

/* === NAVIGATION end ===

/* === SHUTTERS ===
/* shutter layout
.shutter
	overflow: hidden // необходим для скрытия скролла
	position: fixed
	//height: calc(100% - #{$header-height})
	width: 100%
	left: 0
	top: $header-height
	bottom: 0
	z-index: 10000
	// ==========================
	//opacity: 0
	//visibility: hidden
	will-change: transform
	transform: translate(-100%, 0)
	transform: translateX(-100%)
	background-color: white
	transition:
		property: transform
		duration: $animation-speed

	+media('<desk-md')
		//height: calc(100% - #{$header-height--sm})
		top: $header-height--sm

	&.active
		transform: translate(0, 0)
		transform: translateX(0)

.shutter__content
	overflow-x: hidden
	overflow-y: auto
	height: 100%

/* shutter layout end

/* shutter mask
.shutter__mask
	$shutter-mask-size: 40px
	$shutter-mask-color: white
	//======================
	position: absolute
	//left: -#{round($shutter-mask-size/2)}
	//width: calc(100% + #{$shutter-mask-size})
	//height: $shutter-mask-size
	//box-shadow: 0 0 nth($nav-space, 2) white
	//left: -#{round(nth($nav-space, 2)/2)}
	left: 0
	//width: calc(100% + #{nth($nav-space, 2)})
	width: 100%
	height: nth($nav-space, 2)
	pointer-events: none
	z-index: 25

	// пока скрыть
	display: none

	.no-touchevents &
		width: calc(100% - 20px)

	&.shutter__mask--start
		top: 0
		+linear-gradient(to bottom, #{$shutter-mask-color} 0%, #{$shutter-mask-color} 25%, rgba($shutter-mask-color, 0) 100%)

	&.shutter__mask--end
		bottom: 0
		+linear-gradient(to top, #{$shutter-mask-color} 0%, #{$shutter-mask-color} 25%, rgba($shutter-mask-color, 0) 100%)

/* shutter mask end

/* shutter options
.shutter__options
	display: none
	position: relative
	height: $header-height--sm
	box-shadow: inset 0 1px 0 $border-color, 0 0 30px 10px white
	z-index: 10

/* shutter options end

/* button shutter close
.btn-shutter-close
	//<a href="#" class="btn-shutter-close js-btn-shutter-close"><i>&nbsp;</i><span>Закрыть</span></a>
	$btn-shutter-close--bg: $btn-bg-color
	$btn-shutter-close--color: $text-color
	$btn-shutter-close--size: $header-height--sm
	$btn-shutter-close--space: 12px
	$btn-shutter-close--lines-width: 22px
	$btn-shutter-close--lines-height: 2px
	$btn-shutter-close--lines-space: 5px
	$btn-shutter-close--lines-radius: 0
	$btn-shutter-close--lines-color: white

	display: block
	position: absolute
	right: 0
	top: 0
	+size($btn-shutter-close--size)
	color: white
	text-decoration: none
	+clear-spacing
	white-space: nowrap
	background: $btn-shutter-close--bg
	z-index: 30

	&::before
		content: ''
		display: inline-block
		height: $btn-shutter-close--size
		min-height: 100%
		vertical-align: middle

	> span
		+hide-text

	> i
		display: inline-block
		vertical-align: middle
		position: relative
		//backface-visibility: hidden
		background-color: transparent
		+size($btn-shutter-close--lines-width, $btn-shutter-close--lines-height)
		border-radius: $btn-shutter-close--lines-radius

		&::before, &::after
			+pseudo()
			left: 0
			//backface-visibility: hidden
			+size($btn-shutter-close--lines-width, $btn-shutter-close--lines-height)
			border-radius: $btn-shutter-close--lines-radius
			background: $btn-shutter-close--lines-color

		//first line menu
		&::before
			top: 0
			transform: rotate(-45deg)

		//third line menu
		&::after
			top: 0
			transform: rotate(45deg)

	// hover
	.no-touchevents &:hover
		background-color: $btn-bg-hover-color

/* button shutter close end

/* shutter overlay
.shutter-overlay
	position: fixed
	left: 0
	top: $header-height
	bottom: 0
	width: 100%
	background-color: black
	visibility: hidden
	opacity: 0
	z-index: 9999
	transition:
		property: opacity, visibility
		duration: $animation-speed
		timing-function: cubic-bezier(0.65, 0.05, 0.36, 1)

	+media('<desk-md')
		top: $header-height--sm

	&.active
		visibility: visible
		opacity: 0.35

	.shutter-after-open--filters &
		+media('>=tab-lg')
			display: none

/* shutter overlay end

/* shutter--nav
.shutter--nav
	+media('<desk-sm')
		border-top: 1px solid #666

	+media('<tab-lg')
		// отступ сверху для поля поиска
		padding-top: $header-height--sm

	+media('<mob-lg')
		// для мобил на всю ширину экрана
		width: 100%

	.shutter__content
		.no-touchevents &
			overflow-y: hidden

		.no-touchevents &:hover
			overflow-y: auto

	&, & .shutter__content__holder
		// ширину устанавливаем на основной
		// и вложенный контейнер,
		// чтобы корректно обрезать скролл
		width: $shutter-width

		+media('<mob-lg')
			width: 100%

	.shutter__mask--start
		+media('<tab-lg')
			// отступ сверху для поля поиска
			top: $header-height--sm

		+media('<desk-sm')
			+linear-gradient(to bottom, $header-bg 0%, $header-bg 25%, rgba($header-bg, 0) 100%)

	.shutter__options
		+media('<tab-sm')
			display: block

/* shutter--nav end

/* shutter--login
.shutter--login
	background-color: #f6f6f6

	.shutter__content__holder
		+padding-vertical($header-height, 6rem)

		+media('<desk-md')
			padding-top: $header-height--sm

		+media('<tab-lg')
			padding-bottom: 4rem

		+media('<mob-lg')
			padding-bottom: 2rem

	.shutter__mask
		$shutter-mask-color: #f6f6f6
		// ===================
		&.shutter__mask--start
			top: 0
			+linear-gradient(to bottom, #{$shutter-mask-color} 0%, #{$shutter-mask-color} 25%, rgba($shutter-mask-color, 0) 100%)

		&.shutter__mask--end
			bottom: 0
			+linear-gradient(to top, #{$shutter-mask-color} 0%, #{$shutter-mask-color} 25%, rgba($shutter-mask-color, 0) 100%)

/* shutter--login end
/* === SHUTTERS end ===