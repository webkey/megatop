@import ../utils/variables
@import ../utils/mixins
@import ../../libs/include-media/dist/include-media

/* === LAYOUT ===
.max-wrap
	max-width: $page-layout-width + nth($page-layout-space, 2)*2

.layout
	@if nth($page-layout-space, 2) != 0
		+padding-horizontal(nth($page-layout-space, 2))

	+push-auto

// выравнивание текстовых элементов на странице статьи (контент обернут в .layout-article)
// и их максимальная ширина
.layout-article
	padding: round($text-layout-space) #{$text-layout-space} round($text-layout-space*1.5)

	+media('<tab-lg')
		padding: round($text-layout-space--md*1.5) #{$text-layout-space--md} round($text-layout-space--md*2)

	+media('<tab-sm')
		padding: round($text-layout-space--sm*1.5) #{$text-layout-space--sm} round($text-layout-space--sm*2)

	& > p, & > ul, & > ol, & > h1, & > h2, & > h3, & > h4, & > h5, & > h6, & > hr, & > blockquote, & > .layout-text, .imgc figcaption
		max-width: $text-layout-width
		+padding-horizontal(0)
		+push-auto

	.layout-flood
		max-width: $flood-layout-width
		+padding-horizontal(0)
		+push-auto

	// элеметы без отступов по бокам
	// минусовые маржины по горизонтале имеют значение только внутри .layout-article
	.layout-full-width, .layout-wide

		+margin-horizontal(-#{$text-layout-space})

		+media('<tab-lg')
			+margin-horizontal(-#{$text-layout-space--md})

		+media('<tab-sm')
			+margin-horizontal(-#{$text-layout-space--sm})

// максимальная ширина текстовых элементов на внутренней (текстовой) странице
.max-wrap-text
	max-width: #{$text-layout-width + $text-layout-space*2}

	+media('<tab-lg')
		max-width: #{$text-layout-width + $text-layout-space--md*2}

	+media('<tab-sm')
		max-width: #{$text-layout-width + $text-layout-space--sm*2}

// выравнивание текстовых элементов на внутренней (текстовой) странице
// и их максимальная ширина
.layout-text
	max-width: #{$text-layout-width + $text-layout-space*2}
	+padding-horizontal($text-layout-space)
	+push-auto

	+media('<tab-lg')
		max-width: #{$text-layout-width + $text-layout-space--md*2}
		+padding-horizontal($text-layout-space--md)

	+media('<tab-sm')
		max-width: #{$text-layout-width + $text-layout-space--sm*2}
		+padding-horizontal($text-layout-space--sm)

// максимальная ширина альтернативных элементов на внутренней (текстовой) странице
.max-wrap-flood
	max-width: #{$flood-layout-width + $text-layout-space*2}

	+media('<tab-lg')
		max-width: #{$flood-layout-width + $text-layout-space--md*2}

	+media('<tab-sm')
		max-width: #{$flood-layout-width + $text-layout-space--sm*2}

// выравнивание альтернативных элементов на внутренней (текстовой) странице
// и их максимальная ширина
.layout-flood
	max-width: #{$flood-layout-width + $text-layout-space*2}
	+padding-horizontal($text-layout-space)
	+push-auto

	+media('<tab-lg')
		max-width: #{$flood-layout-width + $text-layout-space--md*2}
		+padding-horizontal($text-layout-space--md)

	+media('<tab-sm')
		max-width: #{$flood-layout-width + $text-layout-space--sm*2}
		+padding-horizontal($text-layout-space--sm)

	p, ul, ol, h1, h2, h3, h4, h5, h6, hr
		max-width: none

// элеметы с отступами по бокам
.layout-wide
	+padding-horizontal($text-layout-space)

	+media('<tab-lg')
		+padding-horizontal($text-layout-space--md)

	+media('<tab-sm')
		+padding-horizontal($text-layout-space--sm)

	p, ul, ol, h1, h2, h3, h4, h5, h6, hr
		max-width: none

// элеметы без отступов по бокам
.layout-full-width

	p, ul, ol, h1, h2, h3, h4, h5, h6, hr
		max-width: none

// лэяут страницы
.wrapper
	display: flex
	flex-direction: column
	justify-content: space-between
	overflow: hidden
	position: relative
	margin: 0 auto
	min-height: 100vh

/* === LAYOUT end ===

/* === CONTENT ===
.main
	flex: 1
	position: relative
	clear: both
	z-index: 4

.main__holder
	width: 100%
	+clear

.content-wrap
	float: left
	width: 100%

.content
	margin: 0 200px 0 300px
	min-height: 50px

	background-color: whitesmoke

	+media('<desk-lg')
		margin-right: 0

	+media('<tab-lg')
		margin-left: 0

.main-section
	position: relative
	margin-bottom: 1rem

.main-section__title
	text-align: center
	margin-bottom: 3rem

	h1, h2, h3
		+font-alt-medium
		+font(3.0rem, round-float(36/30, 2))
		letter-spacing: 0.1em
		text-align: center
		text-transform: uppercase
		margin-bottom: 0

// main-section--promo
//.main-section--promo

// main-section--banners
//.main-section--banners

/* === CONTENT end ===

/* === HEADER ===
/* HEADER
// header layout
.header
	background-color: #1a1a1a
	//background-color: #fffacd
	color: white
	height: $header-height
	position: relative
	z-index: 10

	.btn-menu
		+size($header-height)
		position: absolute
		left: 0
		top: 0
		z-index: 5

.header > .layout
	height: 100%

.header__holder
	height: 100%
	text-align: center
	+clear-spacing
	+clear

.header__col
	+display-inline-block-top
	position: relative
	text-align: left
	height: 100%
	white-space: nowrap
	+clear-spacing

	&:first-child
		display: block
		float: left
		padding-left: $header-height

	&:last-child
		display: block
		float: right

	&::before
		+pseudo-content()
		+display-inline-block-middle
		height: 100%

.header__cell
	+display-inline-block-middle
	+font($font-size, $line-height)
	white-space: normal
	letter-spacing: normal

// header layout end

/* menu
.header__col--menu
	&.header__col
		+media('<desk-sm')
			display: none

		.header__cell, .menu-list, .menu-list > li, .menu-list > li > a
			height: 100%

.menu-list
	$ml-space: 30px
	$ml-space--lg: 10px

	&
		list-style: none
		padding: 0 0 0 round($ml-space/2)
		margin: 0 -#{round($ml-space/2)}
		+clear-spacing

		+media('<desk-lg')
			+margin-horizontal(-#{round($ml-space--lg/2)})

	li
		+display-inline-block-middle
		+font-bold
		+font(1.4rem, round-float(18/14, 2))
		letter-spacing: 0.1em
		text-transform: uppercase

	a
		display: table
		width: 100%
		text-decoration: none
		color: white

		span
			display: table-cell
			vertical-align: middle
			position: relative
			+padding-horizontal(round($ml-space/2))

			+media('<desk-lg')
				+padding-horizontal(round($ml-space--lg/2))

			&::after
				content: ""
				display: block
				position: absolute
				bottom: 0
				left: 0
				width: 100%
				border-top: 3px solid white
				will-change: opacity
				opacity: 0
				transition:
					property: opacity
					duration: $animation-speed

	// text-mark
	.text-mark
		a
			color: $base-color

			span::after
				border-color: $base-color

	// hover
	a
		&:hover
			span::after
				opacity: 1

/* menu end

/* logo
.logo
	display: block
	position: relative
	width: nth($logo-size, 1)

	&::before
		content: ""
		display: block
		+ratio(nth($logo-size, 1), nth($logo-size, 2))
		background-repeat: no-repeat
		background-position: left
		background-color: $header-bg
		background-image: url(../../img/logo.png)
		background-size: contain

	a, & > span
		position: absolute
		display: block
		left: 0
		top: 0
		+size(100%)
		z-index: 5

		& > em
			+hide-text

/* logo end

.header__col--options
	.header__cell
		padding-left: nth($search-form--size, 1)
		position: relative

/* search-form
.search-form
	position: relative
	margin: 0
	width: nth($search-form--size, 1)
	border: solid #666
	border-width: 0 1px

	.header__col &
		position: absolute
		top: 50%
		right: 100%
		margin: -#{round($header-height/2)} -#{nth($search-form--size, 1)} 0 #{nth($search-form--size, 1)}

	.search-form__field
		margin: 0

	.search-form__input
		padding: 0 10px 0 nth($search-form--btn-size, 1)
		height: $header-height
		width: 100%
		border: none
		background: $header-bg
		+font-bold
		+font(1.6rem, $header-height)
		letter-spacing: normal

		+placeholder
			color: white

		+placeholder-focus
			color: $text-color
			opacity: 1

		&, &:hover, &:focus, &.error, &.input--has-value
			box-shadow: none

		&:focus, &.input--has-value
			background-color: white
			color: $text-color

.search-form__btn
	position: absolute
	left: 0
	top: 50%
	+size(nth($search-form--btn-size, 1), nth($search-form--btn-size, 2))
	margin-top: -#{round(nth($search-form--btn-size, 2)*0.5)}
	+font-regular
	text-align: center
	z-index: 5
	color: white
	pointer-events: none

	.input--has-value &, .search-form__input:focus ~ &
		color: $text-color

	.input--has-value &
		pointer-events: auto

	.no-touchevents &:hover
		color: $base-color

	input
		+cover-abs()
		padding: 0
		border: 0
		opacity: 0
		z-index: 99

	svg
		display: inline-block
		position: absolute
		+position(50%)
		+size(nth($search-form-btn-icon-size, 1))
		margin: -#{round(nth($search-form-btn-icon-size, 1)*0.5)} 0 0 -#{round(nth($search-form-btn-icon-size, 1)*0.5)}

	path
		fill: currentColor
		transition: inherit

	span
		+hide-text

/* search-form end
/* HEADER end
/* === HEADER end ===

/* === NAVIGATION ===
.nav-wrap
	position: fixed
	left: 0
	height: calc(100% - #{$header-height})
	top: $header-height
	width: $nav-width
	z-index: 25
	transition:
		property: transform
		duration: $animation-speed

	will-change: transform
	transform: translate(-100%, 0)
	transform: translateX(-100%)
	background-color: rgba(255, 255, 255, 0.56)
	outline: 1px solid #ccc

	&.active
		transform: translate(0, 0)
		transform: translateX(0)

/* nav list
// общие стили для главного списка навигации
.nav__list
	position: relative

	+media('<tab-lg')
		width: auto

// общие стили для подменю навигации
.nav__drop
	position: relative
	//background-color: $nav-bg-color
	display: none

	.no-js &
		display: block

// общие стили для пунктов навигации
.nav__list
	padding: nth($nav-space, 1) 0

	li
		position: relative
		overflow: hidden

	.nav__tab
		position: relative

	a
		display: block
		position: relative
		padding: 0 nth($nav-space, 2)
		+font-light
		color: #999
		text-decoration: none
		transition-property: color, background-color
		transition-duration: $animation-speed
		+clear-spacing

		&::before
			+pseudo-inline-block-relative()
			vertical-align: middle
			min-height: 36px

		span
			+display-inline-block-middle
			max-width: calc(100% - 5px)
			+font(1.6rem, round-float(20/16, 2))
			letter-spacing: normal
			padding: 8px 0

		.no-touchevents &:hover
			color: $base-color

// стили для пунктов навигации, у которых ЕСТЬ ПОДМЕНЮ
.nav__list li.has-drop > .nav__tab > a
	padding-right: (round($nav-arrow-size+10))

// стили для пункта навигации ТЕКУЩЕЙ страницы
.nav__list li.current > .nav__tab

	&, .no-touchevents &

		a, a:hover
			color: $base-color

// стили для пункта навигации С ОТКРЫТЫМ ПОДМЕНЮ
.nav__list li
	&.is-open
		& > .nav__tab a
			&::before
				opacity: 1
				transform: translate(0, 0)

//& > .nav__drop
	display: block

// нужно добавлять на nav__drop style="display: block"

// особые стили для пунктов навигации ПЕРВОГО урованя
.nav__list > li

	& > .nav__tab a
		min-height: 0
		+font-alt-bold
		text-transform: uppercase
		color: $text-color

		span
			letter-spacing: 0.1em
			+font(1.6rem, round-float(20/16, 2))

// СТРЕЛКИ навигации
.nav__angle
	position: absolute
	right: 0
	top: 0
	width: $nav-arrow-size
	height: 100%
	//border: solid #666
	//border-width: 0 0 0 1px
	transition-property: transform, color, background-color
	transition-duration: $animation-speed
	z-index: 2
	cursor: pointer
	display: none

	li.has-drop > .nav__tab > &
		display: block

	i
		position: absolute
		+position(50%, 50%)
		+size(16px)
		margin: -8px 0 0 -8px
		pointer-events: none
		transition-property: transform
		transition-duration: $animation-speed
		+font(0, 0)

		&::before, &::after
			+pseudo()
			+position(50%, 0)
			height: 2px
			width: 16px
			backface-visibility: hidden
			background-color: $nav-text-color
			transition-property: background-color, transform
			transition-duration: $animation-speed

		&::after
			transform: rotate(0.25turn)

// стили стрелок навигации для разных состояний
.nav__angle

	// активное (подменю открыто)
	li.is-open > .nav__tab & i
		//transform: rotate(0)

		&::before, &::after
			transform: rotate(0)

	// ховер
	.no-touchevents li > .nav__tab &:hover i
		&::before, &::after
			background-color: $base-color

// особые стили для пунктов ПОДМЕНЮ
.nav__drop

	// особые стили для пунктов навигации ВТОРОГО урованя
	//ul, a, .nav__angle
		background-color: $nav-bg-color-s

	a
		padding-left: round(nth($nav-space, 2) + nth($nav-space, 2)/2)
		color: $text-color
		text-transform: uppercase

		span
			letter-spacing: 0.05em
			+font(1.6rem, round-float(20/16, 2))

	.nav__drop
		// особые стили для пунктов навигации ТРЕТЬЕГО урованя
		//ul, a, .nav__angle
			background-color: $nav-bg-color-ss

		a
			color: #999
			text-transform: none

			span
				+font(1.6rem, round-float(20/16, 2))

		.nav__drop
			// особые стили для пунктов навигации ТРЕТЬЕГО урованя
			//ul, a, .nav__angle
				background-color: $nav-bg-color-sss

			a
				padding-left: round(nth($nav-space, 2)*2)
				color: #999
				text-transform: none

				span
					+font(1.4rem, round-float(18/14, 2))

/* nav list

/* === NAVIGATION end ===

/* === SIDEBAR ===
.sidebar
	display: inline
	float: left
	margin: 0 0 0 -100%
	width: $sidebar-width

	background-color: sandybrown

	+media('<tab-lg')
		display: none

/* === SIDEBAR end ===

/* === ASIDE ===
.aside
	display: inline
	float: right
	margin: 0 0 0 -#{$aside-width}
	width: $aside-width
	background-color: sandybrown

	+media('<desk-lg')
		display: none

/* === ASIDE end ===

/* === FOOTER ===
.footer
	//margin: 0 auto
	position: relative
	clear: both
	z-index: 5
	+font(16px, round-float(24/16, 3))
	color: $text-color
	border-top: 1px solid $border-color

	background-color: lightgreen

.footer__holder
	overflow: hidden
	cursor: default
	padding: $footer-grid-space 0

/* footer bottom
.footer-bottom
	color: $text-color

.footer-bottom__holder
	position: relative
	text-align: justify
	overflow: hidden
	cursor: default

	+clear-spacing

	&::after
		content: "1"
		display: inline-block
		margin-left: 100%
		height: 1px
		overflow: hidden

.footer-bottom__col
	+display-inline-block-top
	+font(16px, round-float(24/16, 3))
	letter-spacing: normal

	&:last-child
		text-align: right

	a
		color: $text-color
		text-decoration: none

		.no-touchevents &:hover
			text-decoration: underline

/* footer bottom end

/* developer
.developer
	display: inline-block

	a
		text-decoration: none

		.no-touchevents &:hover
			text-decoration: none

.developer__logo
	+display-inline-block-top
	position: relative
	top: 5px
	padding-right: 3px
	+size(154px, 20px)
	text-align: left
	text-indent: -9999px

	&::before, &::after
		+pseudo()
		+position(0, 0)
		+size(149px, 16px)

	&::before
		+pseudo()
		+position(4px, 4px)
		background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTMyIDc5LjE1OTI4NCwgMjAxNi8wNC8xOS0xMzoxMzo0MCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUuNSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTA2ODc1N0UwOEJDMTFFNzlCNzhBOUI2REQxMjc4QzgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTA2ODc1N0YwOEJDMTFFNzlCNzhBOUI2REQxMjc4QzgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MDY4NzU3QzA4QkMxMUU3OUI3OEE5QjZERDEyNzhDOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MDY4NzU3RDA4QkMxMUU3OUI3OEE5QjZERDEyNzhDOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnDruBQAAAAkSURBVHjaYmRgYPjPACL+/2cE0YwYAkAGA5jByPgfqwBAgAEAP4gP/bFMMZQAAAAASUVORK5CYII=')
		background-size: 2px

	//.no-touchevents a:hover
		transform: translate(0, 1px)
		filter: blur(2px)
		opacity: 0.6

	&::after
		+pseudo()
		background: #00ef85 url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAAgBAMAAABa5liJAAAAMFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABaPxwLAAAAD3RSTlMAd7tEIt0R7pkzzIhmqlV9QenDAAAD2klEQVRYw+2WPYsTURSGj5oEs0lMBkUUlMSUWkxwxNKsnV2ihWCVbGXpFwhWs6Io2GT0D2xQsM2KqGUEEUvFwjbxF7irO2ZMsh7PuRvP3Xuv2mhhkRd258zuvc/7bOaDhXnmmedvUi79S1rK2wcqp99XnyzSwVOhib4fBJWl98ciOuS9GsCuQzR5HNLY4akdW1ovDc6OvUCLPS7wPJ5lEKBU6FJJDiezI4Wa6qhCAny4AKwTIiZtgJ3YpLrPAICcNYAi7+ggAHyET7Udw22c4jrQYiQ1pJwFGTRQKnSpJI0xcAbxE+8e4R5Uq+HVajUCwCOHWyM6Qnn05BlWWGs60/K81lmPu7ELELJW+KF+wj8vHEPr5oEeLsuggVKhSyUrE+SzPbx+Fr8CHCwR9h1AFh9DpjdlrVhp6TXFeAPyMWudGfXvJovCMbRqkOp9kUGAUqGBOv3zuEqH3QRwtaB3GaAworqLMWklOLS0kgkUJgjshWQlHEsLGpsyaKCucLVaq4MmUOWvtfw1IiXqlolg57pfMbXq32NoXBMt4ThaC2MZNFAqXK0s1srf1KrSLz8tUn77HZhZIq1PXyyttTAqP+e646P+iyQSjq21M5ZBA6XC1cqNoDHhpzfcXHS18ryv/JVOMkor/dnW6iy3IqrL0C1/ctAUjq1FG2UQoFS4WukEFmIe3uDm0NK6daozbgMM1tTZO9LKY2RqNVdujIHrXsHb2p6hcGyt+lQGDZQKV2vlO+2NaEh1MH5palHu8OkWpUJamXDZ1Kqkx+ukJW954ZhaS2FXBg2UClerfxlSuKp4L9AUx3O9RJ3qTwvKG4ZWubIDN7ZpCcfQengU40gGDZQKV6v1jr6aoPIau+a9lVfCnS1KibUuJpZWiuj6aRGO9ZYf7QcZNFAqHK0sPg2CwTdQyfhTUwvKX7j7mzyJ9IQsmVrgv7S1mGNo7Q0iABk0UCocrRxyJrOzxrqldZEdPk1VQcRaKfQsLQBDSzhFhhZm7wWODAKUCkcrjZyxvAItrRyTLvHGdAysBZ2zrpavtTRngdctbLpaApQKV2uFxXO4CCpv7YuYQhoLOCSB6ZZWI96uNXC0hLObofWpqyVAqXC1+vxmy9JvC68A7ofXLS3obABtvNJewi5rcRtrBUHvUVD7udJfFp5wSOIR7ArPu1oClApHix9EStiFIlJGka3VSPiP5+vcZi1mb/9/y1+1iZrTx888uFoClAobkuWfK+GdIWK8H2ytAl+KrK8ebKUFvqFVsomas6eHeBt+pSVAqRCImyBow2+SCSL4c1wO76r9CTjPPPP8x/kBIrOdsjg4YcgAAAAASUVORK5CYII=') no-repeat center center
		background-size: auto 16px

		.no-touchevents a:hover &
			transform: translate(0, -1px)

/* developer end
/* === FOOTER end ===