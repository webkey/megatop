/*! jquery.ms-drop.js
 * Version: 2018.1.0
 * Author: Serhii Ilchenko
 * Description: Toggle a drop menu
 */
!function(e){function t(t,i){var o=this;o.config=e.extend(!0,{},n,i),o.element=t,o.callbacks(),o.event(),o.config.closeOutsideClick&&o.closeOnClickOutside(),o.config.closeEscClick&&o.closeOnClickEsc(),o.eventDropItems(),o.init()}var n={opener:".ms-drop__opener-js",openerText:"span",drop:".ms-drop__drop-js",dropOption:".ms-drop__drop-js a",dropOptionText:"span",initClass:"ms-drop--initialized",closeOutsideClick:!0,closeEscClick:!0,closeAfterSelect:!0,preventOption:!1,selectValue:!0,modifiers:{isOpen:"is-open",activeItem:"active-item"}};t.prototype.callbacks=function(){var t=this;e.each(t.config,function(e,n){"function"==typeof n&&t.element.on(e+".msDrop",function(e,i){return n(e,t.element,i)})})},t.prototype.event=function(){var t=this;t.element.on("click",t.config.opener,function(n){n.preventDefault();var i=e(this).closest(t.element);if(i.hasClass(t.config.modifiers.isOpen))return i.removeClass(t.config.modifiers.isOpen),void t.element.trigger("afterChange.msDrop");t.element.removeClass(t.config.modifiers.isOpen),i.addClass(t.config.modifiers.isOpen),t.element.trigger("afterChange.msDrop")})},t.prototype.closeOnClickOutside=function(){var t=this;e(document).on("click",function(n){e(n.target).closest(t.element).length||(t.closeDrop(),n.stopPropagation())})},t.prototype.closeOnClickEsc=function(){var t=this;e(document).keyup(function(e){27===e.keyCode&&t.closeDrop()})},t.prototype.closeDrop=function(t){var n=this,i=e(t||n.element);i.hasClass(n.config.modifiers.isOpen)&&i.removeClass(n.config.modifiers.isOpen)},t.prototype.eventDropItems=function(){var t=this;t.element.on("click",t.config.dropOption,function(n){var i=e(this),o=i.parent();if(o.hasClass(t.config.modifiers.activeItem))return void n.preventDefault();t.config.preventOption&&n.preventDefault();var s=i.closest(t.element);s.find(t.config.dropOption).parent().removeClass(t.config.modifiers.activeItem),o.addClass(t.config.modifiers.activeItem),t.config.selectValue&&s.find(t.config.opener).find(t.config.openerText).html(i.find(t.config.dropOptionText).html()),t.config.closeAfterSelect&&t.closeDrop()})},t.prototype.init=function(){this.element.addClass(this.config.initClass),this.element.trigger("afterInit.msDrop")},e.fn.msDrop=function(n){"use strict";return this.each(function(){new t(e(this),n)})}}(jQuery);